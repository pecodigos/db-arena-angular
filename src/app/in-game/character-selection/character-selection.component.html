<main class="main-container">
  <section class="upper-part">
    <img src="../../../assets/etc/Dragon_Ball_logo.png" class="logo">
    <div *ngIf="selectedCharacter" class="fighter-skill-container">
      <div class="img-row">
        <img class="selected-character" [src]="selectedCharacter.image" [alt]="selectedCharacter.name" />
        <div class="skills">
          <div class="skill" *ngFor="let skill of selectedCharacter?.skills" (click)="showSkillDetails(skill)">
            <img [src]="skill.image" [alt]="skill.name">
          </div>
        </div>
        <div class="details" *ngIf="viewMode === 'character'">
          <div>
            <p class="name">{{ selectedCharacter.name }}</p>
            <p>Energy cost</p>
          </div>
          <p class="description">{{ selectedCharacter.description }}</p>
        </div>
      </div>
      <div class="details" *ngIf="viewMode === 'skill'">
        <p class="name">{{ selectedSkill.name }}</p>
        <p class="description">{{ selectedSkill.description }}</p>
      </div>
    </div>
  </section>
  <section class="buttons-row">
    <div class="button-sub-div">
     <a class="each-button" href="/home">
      <img class="logout-button" src="../../../assets/buttons/logout.png">
     </a>
    </div>

    <div class="buttom-sub-div">
      <a class="each-button" href="/battle">
        <img src="../../../assets/buttons/ladder-button.png">
      </a>
    </div>

    <div>
      <a class="each-button" href="/battle">
        <img src="../../../assets/buttons/quick-button.png">
      </a>
    </div>

    <div>
      <a class="each-button" href="/character-selection">
        <img src="../../../assets/buttons/private-button.png">
      </a>
    </div>
  </section>

  <section class="selection">
    <div class="character-container">
      <!-- Character Grid -->
      <div class="char-player">
        <div class="character-grid">
          <div class="character-card" *ngFor="let character of visibleCharacters" (click)="selectCharacter(character)">
            <img [src]="character.image" [alt]="character.name" [appPreventDrag]="false" />
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="navigation-buttons">
        <a mat-button (click)="previousPage()">
          <img class="left-arrow arrow-img" src="../../../assets/buttons/arrow-right.png">
        </a>
        <a mat-button (click)="nextPage()">
          <img class="arrow-img" src="../../../assets/buttons/arrow-right.png">
        </a>
      </div>
    </div>

    <div class="right-section">
      <div class="profile-div" *ngIf="profile">
        <div class="profile-picture">
          <img [src]="profile.profilePicturePath" [alt]="profile.username">
        </div>

        <div class="profile-info">
          <p>{{ profile.username }}</p>
          <p>{{ profile.rank }}</p>
          <p *ngIf="!(profile.clan == '')">CLAN: {{ profile.clan }}</p>
          <p *ngIf="profile.clan == ''">CLAN: Clanless</p>
          <p>LEVEL: {{ profile.currentLevel }}</p>
          <p>LADDERRANK: #{{ profile.ladderRank }}</p>
          <p>RATIO: {{ profile.wins }} - {{  profile.loses }} ({{ profile.currentStreak }})</p>
        </div>
      </div>

      <div class="team-div">
        <div class="character-card team" *ngFor="let character of teamCharacters">
          <img [src]="character.image" [appPreventDrag]="false">
        </div>
      </div>
    </div>
  </section>
</main>
